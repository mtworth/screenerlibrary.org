<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2-Item Food Security Screener</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</head>
<body class="bg-white text-gray-800">
    <header class="border-b">
        <div class="container mx-auto p-4 flex justify-between items-center">
            <a href="index.html" class="flex items-center space-x-3">
                <img src="assets/checklist.png" alt="ScreenerLibrary.org Logo" class="h-10">
                <span class="text-xl font-bold">ScreenerLibrary.org</span>
            </a>
            <nav>
                <a href="about.html" class="text-gray-600 hover:text-gray-800 px-4">About</a>
            </nav>
        </div>
    </header>

    <main class="container mx-auto p-8">
        <h2 class="text-3xl font-bold text-center mb-8">2-Item Food Security Screener</h2>
        <div x-data="screener()" class="max-w-2xl mx-auto">
            <div x-show="!screenerStarted">
                <div class="border rounded-lg p-6">
                    <h3 class="text-2xl font-bold mb-4">Introduction</h3>
                    <p class="text-lg mb-4">This is an introduction to the 2-item screener. Here you can add links and a description of how the screener is used.</p>
                    <button @click="screenerStarted = true" class="bg-black text-white font-bold py-3 px-6 rounded hover:bg-gray-800">Start Screener</button>
                </div>
            </div>
            <div x-show="screenerStarted">
                <div x-show="!result">
                    <div class="mb-8">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm text-gray-600" x-text="`Question ${currentStep + 1} of ${steps.length}`"></span>
                        </div>
                        <div class="bg-gray-200 rounded-full h-2">
                            <div class="bg-black rounded-full h-2" :style="`width: ${((currentStep + 1) / steps.length) * 100}%`"></div>
                        </div>
                    </div>

                    <div x-show="currentStep === 0">
                        <div class="border rounded-lg p-6">
                            <p class="text-lg mb-4">Within the past 12 months, we worried whether our food would run out before we got money to buy more.</p>
                            <div class="space-y-2">
                                <label class="flex items-center p-4 border rounded-lg cursor-pointer" :class="{ 'bg-gray-100': answers.q1 === 'often' }"><input type="radio" name="q1" value="often" x-model="answers.q1" class="mr-4"> Often true</label>
                                <label class="flex items-center p-4 border rounded-lg cursor-pointer" :class="{ 'bg-gray-100': answers.q1 === 'sometimes' }"><input type="radio" name="q1" value="sometimes" x-model="answers.q1" class="mr-4"> Sometimes true</label>
                                <label class="flex items-center p-4 border rounded-lg cursor-pointer" :class="{ 'bg-gray-100': answers.q1 === 'never' }"><input type="radio" name="q1" value="never" x-model="answers.q1" class="mr-4"> Never true</label>
                            </div>
                        </div>
                    </div>
                    <div x-show="currentStep === 1">
                        <div class="border rounded-lg p-6">
                            <p class="text-lg mb-4">Within the past 12 months, the food we bought just didn't last and we didn't have money to get more.</p>
                            <div class="space-y-2">
                                <label class="flex items-center p-4 border rounded-lg cursor-pointer" :class="{ 'bg-gray-100': answers.q2 === 'often' }"><input type="radio" name="q2" value="often" x-model="answers.q2" class="mr-4"> Often true</label>
                                <label class="flex items-center p-4 border rounded-lg cursor-pointer" :class="{ 'bg-gray-100': answers.q2 === 'sometimes' }"><input type="radio" name="q2" value="sometimes" x-model="answers.q2" class="mr-4"> Sometimes true</label>
                                <label class="flex items-center p-4 border rounded-lg cursor-pointer" :class="{ 'bg-gray-100': answers.q2 === 'never' }"><input type="radio" name="q2" value="never" x-model="answers.q2" class="mr-4"> Never true</label>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-between mt-8">
                        <button @click="prevStep()" :disabled="currentStep === 0" class="bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded hover:bg-gray-300 disabled:opacity-50">&larr; Back</button>
                        <button @click="nextStep()" x-show="currentStep < steps.length - 1" class="bg-black text-white font-bold py-3 px-6 rounded hover:bg-gray-800">Next &rarr;</button>
                        <button @click="submitScreener()" x-show="currentStep === steps.length - 1" class="bg-black text-white font-bold py-3 px-6 rounded hover:bg-gray-800">Get Result</button>
                    </div>
                </div>

                <div x-show="result" class="border rounded-lg p-6 mt-8">
                    <h3 class="text-2xl font-bold mb-4">Results</h3>
                    <p class="text-lg font-bold" x-text="result"></p>
                    <div class="mt-8">
                        <h4 class="font-bold">Next Steps</h4>
                        <p>This assessment is a screening tool and not a clinical diagnosis. If you are experiencing food insecurity, there are resources available to help.</p>
                        <p>Consider discussing your results with a healthcare provider, social worker, or community resource specialist who can connect you with appropriate support services.</p>
                        <p>If you are in immediate need of food assistance, call 211 or visit your local food bank.</p>
                    </div>
                    <div class="mt-8 flex flex-col sm:flex-row sm:justify-between sm:space-x-4 space-y-4 sm:space-y-0">
                        <button @click="retakeScreener()" class="bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded hover:bg-gray-300 w-full sm:w-auto">
                          Retake Assessment
                        </button>
                        <a href="index.html" class="bg-black text-white font-bold py-3 px-6 rounded hover:bg-gray-800 w-full sm:w-auto text-center">
                          Return Home
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="border-t mt-16">
        <div class="border-t">
            <div class="container mx-auto p-4 text-center text-gray-600">
                <p>&copy; 2025 ScreenerLibrary.org. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        function screener() {
            return {
                screenerStarted: false,
                currentStep: 0,
                steps: [{}, {}],
                answers: { q1: '', q2: '' },
                result: '',
                nextStep() { if (this.currentStep < this.steps.length - 1) this.currentStep++; },
                prevStep() { if (this.currentStep > 0) this.currentStep--; },
                submitScreener() {
                    const score = (this.answers.q1 === 'often' || this.answers.q1 === 'sometimes' ? 1 : 0) +
                                  (this.answers.q2 === 'often' || this.answers.q2 === 'sometimes' ? 1 : 0);

                    if (score >= 1) {
                        this.result = 'At risk for food insecurity.';
                    } else {
                        this.result = 'Not at risk for food insecurity.';
                    }
                },
                retakeScreener() {
                    this.screenerStarted = false;
                    this.currentStep = 0;
                    this.answers = { q1: '', q2: '' };
                    this.result = '';
                }
            }
        }
    </script>
</body>
</html>